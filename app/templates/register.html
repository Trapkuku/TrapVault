<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Регистрация</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-center mb-4">Регистрация</h2>
        <form action="{{ url_for('main.register') }}" method="post">
            <div class="form-group">
                <label for="username">Имя пользователя:</label>
                <input type="text" id="username" name="username" class="form-control" required placeholder="Введите имя пользователя" minlength="3" maxlength="150">
                <div class="invalid-feedback">Пожалуйста, введите имя пользователя (от 3 до 150 символов).</div>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" class="form-control" required placeholder="Введите ваш email">
                <div class="invalid-feedback">Пожалуйста, введите корректный email.</div>
            </div>
            <div class="form-group">
                <label for="password">Пароль:</label>
                <input type="password" id="password" name="password" class="form-control" required minlength="8" placeholder="Введите пароль">
                <div class="invalid-feedback">Пароль должен содержать не менее 8 символов.</div>
            </div>
            <div class="form-group">
                <label for="confirm-password">Подтвердите пароль:</label>
                <input type="password" id="confirm-password" name="confirm-password" class="form-control" required minlength="8" placeholder="Подтвердите пароль">
                <div class="invalid-feedback">Пароли должны совпадать.</div>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Зарегистрироваться</button>
        </form>
        <p class="mt-3 text-center">Уже есть аккаунт? <a href="{{ url_for('main.login') }}">Войти</a></p>
    </div>
    <script>
        // Custom JavaScript to validate password matching
        document.querySelector('form').addEventListener('submit', function(event) {
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            if (password !== confirmPassword) {
                event.preventDefault();
                alert('Пароли не совпадают!');
            }
        });
    </script>
</body>
</html>
